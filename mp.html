

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Multiprocessing functionality &mdash; Creamas 0.1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Creamas 0.1.0 documentation" href="index.html"/>
        <link rel="up" title="API Documentation" href="api.html"/>
        <link rel="next" title="Distributed Systems" href="ds.html"/>
        <link rel="prev" title="Agents" href="agents.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Creamas
          

          
          </a>

          
            
            
              <div class="version">
                0.1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="create_agent.html">Implementing Agent Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="create_sim.html">Using Simulation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="api.html">API Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="core.html">Core</a></li>
<li class="toctree-l2"><a class="reference internal" href="agents.html">Agents</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Multiprocessing functionality</a></li>
<li class="toctree-l2"><a class="reference internal" href="ds.html">Distributed Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html">Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="mappers.html">Mappers</a></li>
<li class="toctree-l2"><a class="reference internal" href="math.html">Math</a></li>
<li class="toctree-l2"><a class="reference internal" href="logging.html">Logging</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Creamas</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="api.html">API Documentation</a> &raquo;</li>
      
    <li>Multiprocessing functionality</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/mp.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-creamas.mp">
<span id="multiprocessing-functionality"></span><h1>Multiprocessing functionality<a class="headerlink" href="#module-creamas.mp" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-mp"></span><p>This module contains multiprocessing implementation for
<a class="reference internal" href="environment.html#creamas.core.environment.Environment" title="creamas.core.environment.Environment"><code class="xref py py-class docutils literal"><span class="pre">Environment</span></code></a>,
<a class="reference internal" href="#creamas.mp.MultiEnvironment" title="creamas.mp.MultiEnvironment"><code class="xref py py-class docutils literal"><span class="pre">MultiEnvironment</span></code></a>.</p>
<p>A <a class="reference internal" href="#creamas.mp.MultiEnvironment" title="creamas.mp.MultiEnvironment"><code class="xref py py-class docutils literal"><span class="pre">MultiEnvironment</span></code></a> holds several
<a class="reference internal" href="environment.html#creamas.core.environment.Environment" title="creamas.core.environment.Environment"><code class="xref py py-class docutils literal"><span class="pre">Environment</span></code></a> slaves, which are spawned on
their own processes, and uses managers to obtain much of the same functionality
as the single processor environment. See <a class="reference internal" href="#creamas.mp.EnvManager" title="creamas.mp.EnvManager"><code class="xref py py-class docutils literal"><span class="pre">EnvManager</span></code></a> and
<a class="reference internal" href="#creamas.mp.MultiEnvManager" title="creamas.mp.MultiEnvManager"><code class="xref py py-class docutils literal"><span class="pre">MultiEnvManager</span></code></a> for details.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This functionality is currently largely untested. However, it <em>seems</em> to
work as intended and may be used in
<a class="reference internal" href="simulation.html#creamas.core.simulation.Simulation" title="creamas.core.simulation.Simulation"><code class="xref py py-class docutils literal"><span class="pre">Simulation</span></code></a>.</p>
</div>
<dl class="class">
<dt id="creamas.mp.EnvManager">
<em class="property">class </em><code class="descclassname">creamas.mp.</code><code class="descname">EnvManager</code><span class="sig-paren">(</span><em>container</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#EnvManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.EnvManager" title="Permalink to this definition">¶</a></dt>
<dd><p>A manager for <a class="reference internal" href="environment.html#creamas.core.environment.Environment" title="creamas.core.environment.Environment"><code class="xref py py-class docutils literal"><span class="pre">Environment</span></code></a>.</p>
<p>Managers are used in environments which need to be able to execute
commands originating from outside sources, e.g. in slave environments
inside a multiprocessing environment.</p>
<p>A manager can spawn other agents into its environment, and can execute
other tasks relevant to the environment. The manager should always be the
first agent created to the environment.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You should not need to create managers directly, instead pass the
desired manager class to an instance of
<a class="reference internal" href="#creamas.mp.MultiEnvironment" title="creamas.mp.MultiEnvironment"><code class="xref py py-class docutils literal"><span class="pre">MultiEnvironment</span></code></a> at its initialization time.</p>
</div>
<dl class="method">
<dt id="creamas.mp.EnvManager.act">
<code class="descname">act</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#EnvManager.act"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.EnvManager.act" title="Permalink to this definition">¶</a></dt>
<dd><p>For consistency. Override in subclass if needed.</p>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.EnvManager.add_candidate">
<code class="descname">add_candidate</code><span class="sig-paren">(</span><em>artifact</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#EnvManager.add_candidate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.EnvManager.add_candidate" title="Permalink to this definition">¶</a></dt>
<dd><p>Add candidate to the host manager&#8217;s list of candidates.</p>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.EnvManager.artifacts">
<code class="descname">artifacts</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#EnvManager.artifacts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.EnvManager.artifacts" title="Permalink to this definition">¶</a></dt>
<dd><p>Return artifacts from the managed environment.</p>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.EnvManager.candidates">
<code class="descname">candidates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#EnvManager.candidates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.EnvManager.candidates" title="Permalink to this definition">¶</a></dt>
<dd><p>Return candidates from the managed environment.</p>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.EnvManager.clear_candidates">
<code class="descname">clear_candidates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#EnvManager.clear_candidates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.EnvManager.clear_candidates" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear candidates in the managed environment.</p>
<p>This is a managing function for
<code class="xref py py-meth docutils literal"><span class="pre">clear_candidates()</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.EnvManager.get_agents">
<code class="descname">get_agents</code><span class="sig-paren">(</span><em>address=True</em>, <em>agent_cls=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#EnvManager.get_agents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.EnvManager.get_agents" title="Permalink to this definition">¶</a></dt>
<dd><p>Get agents from the managed environment</p>
<p>This is a managing function for the
<code class="xref py py-meth docutils literal"><span class="pre">get_agents()</span></code>, but returned
agent lists exclude this manager by default.</p>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.EnvManager.get_artifacts">
<code class="descname">get_artifacts</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#EnvManager.get_artifacts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.EnvManager.get_artifacts" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all artifacts from the host environment.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">All the artifacts in the environment.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.EnvManager.get_older">
<code class="descname">get_older</code><span class="sig-paren">(</span><em>addr=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#EnvManager.get_older"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.EnvManager.get_older" title="Permalink to this definition">¶</a></dt>
<dd><p>Make agent in <em>addr</em> to get older, i.e. advance its internal clock.</p>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.EnvManager.handle">
<code class="descname">handle</code><span class="sig-paren">(</span><em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#EnvManager.handle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.EnvManager.handle" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle message, override in subclass if needed.</p>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.EnvManager.host_addr">
<code class="descname">host_addr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#EnvManager.host_addr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.EnvManager.host_addr" title="Permalink to this definition">¶</a></dt>
<dd><p>Get address of the host manager.</p>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.EnvManager.is_ready">
<code class="descname">is_ready</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#EnvManager.is_ready"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.EnvManager.is_ready" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the managed environment is ready.</p>
<p>This is a managing function for
<code class="xref py py-meth docutils literal"><span class="pre">is_ready()</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.EnvManager.report">
<code class="descname">report</code><span class="sig-paren">(</span><em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#EnvManager.report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.EnvManager.report" title="Permalink to this definition">¶</a></dt>
<dd><p>Report message to the host manager.</p>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.EnvManager.set_host_addr">
<code class="descname">set_host_addr</code><span class="sig-paren">(</span><em>addr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#EnvManager.set_host_addr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.EnvManager.set_host_addr" title="Permalink to this definition">¶</a></dt>
<dd><p>Set host (or master) manager for this manager.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>addr</strong> &#8211; Address for the host manager.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.EnvManager.spawn_n">
<code class="descname">spawn_n</code><span class="sig-paren">(</span><em>agent_cls</em>, <em>n</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#EnvManager.spawn_n"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.EnvManager.spawn_n" title="Permalink to this definition">¶</a></dt>
<dd><p>Spawn <em>n</em> agents to the managed environment. This is a convenience
function so that one does not have to repeatedly make connections to
the environment to spawn multiple agents with the same parameters.</p>
<p>See <code class="xref py py-meth docutils literal"><span class="pre">spawn()</span></code> for details.</p>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.EnvManager.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><em>folder=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#EnvManager.stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.EnvManager.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop the managed environment, close all the agents and set
stop_received on this agent to True.</p>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.EnvManager.trigger_all">
<code class="descname">trigger_all</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#EnvManager.trigger_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.EnvManager.trigger_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Trigger all agents in the managed environment to act once.</p>
<p>This is a managing function for
<code class="xref py py-meth docutils literal"><span class="pre">trigger_all()</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.EnvManager.validate">
<code class="descname">validate</code><span class="sig-paren">(</span><em>candidates</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#EnvManager.validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.EnvManager.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the candidate list unaltered.</p>
<p>Implemented for consistency.</p>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.EnvManager.validate_candidates">
<code class="descname">validate_candidates</code><span class="sig-paren">(</span><em>candidates</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#EnvManager.validate_candidates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.EnvManager.validate_candidates" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate the candidates with the agents in the managed environment.</p>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.EnvManager.vote">
<code class="descname">vote</code><span class="sig-paren">(</span><em>candidates</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#EnvManager.vote"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.EnvManager.vote" title="Permalink to this definition">¶</a></dt>
<dd><p>Vote for candidates. Manager votes each candidate similarly.</p>
<p>Implemented for consistency.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="creamas.mp.MultiEnvManager">
<em class="property">class </em><code class="descclassname">creamas.mp.</code><code class="descname">MultiEnvManager</code><span class="sig-paren">(</span><em>container</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#MultiEnvManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.MultiEnvManager" title="Permalink to this definition">¶</a></dt>
<dd><p>A manager for <a class="reference internal" href="#creamas.mp.MultiEnvironment" title="creamas.mp.MultiEnvironment"><code class="xref py py-class docutils literal"><span class="pre">MultiEnvironment</span></code></a>.</p>
<p>A Manager can spawn other agents into its slave environments, and can
execute other tasks relevant to the whole environment. The manager should
always be the first (and usually only) agent created for the
multi-environment&#8217;s managing environment. The actual simulation agents
should be created to the slave environments, typically using
multi-environment&#8217;s or its manager&#8217;s functionality.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You should not need to create managers directly, instead pass the
desired manager class to an instance of
<a class="reference internal" href="#creamas.mp.MultiEnvironment" title="creamas.mp.MultiEnvironment"><code class="xref py py-class docutils literal"><span class="pre">MultiEnvironment</span></code></a> at its initialization time.</p>
</div>
<dl class="method">
<dt id="creamas.mp.MultiEnvManager.act">
<code class="descname">act</code><span class="sig-paren">(</span><em>addr=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#MultiEnvManager.act"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.MultiEnvManager.act" title="Permalink to this definition">¶</a></dt>
<dd><p>Trigger agent in given <em>addr</em> to act.</p>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.MultiEnvManager.add_candidate">
<code class="descname">add_candidate</code><span class="sig-paren">(</span><em>artifact</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#MultiEnvManager.add_candidate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.MultiEnvManager.add_candidate" title="Permalink to this definition">¶</a></dt>
<dd><p>Add candidate artifact into the candidates.</p>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.MultiEnvManager.destroy">
<code class="descname">destroy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#MultiEnvManager.destroy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.MultiEnvManager.destroy" title="Permalink to this definition">¶</a></dt>
<dd><p>A managing function for
<a class="reference internal" href="#creamas.mp.MultiEnvironment.trigger_all" title="creamas.mp.MultiEnvironment.trigger_all"><code class="xref py py-meth docutils literal"><span class="pre">trigger_all()</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.MultiEnvManager.get_agents">
<code class="descname">get_agents</code><span class="sig-paren">(</span><em>address=True</em>, <em>agent_cls=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#MultiEnvManager.get_agents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.MultiEnvManager.get_agents" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all agents in all the slave environments.</p>
<p>This is a managing function for
<a class="reference internal" href="#creamas.mp.MultiEnvironment.get_agents" title="creamas.mp.MultiEnvironment.get_agents"><code class="xref py py-meth docutils literal"><span class="pre">creamas.mp.MultiEnvironment.get_agents()</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.MultiEnvManager.get_candidates">
<code class="descname">get_candidates</code><span class="sig-paren">(</span><em>addr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#MultiEnvManager.get_candidates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.MultiEnvManager.get_candidates" title="Permalink to this definition">¶</a></dt>
<dd><p>Get candidates from the environment manager in <em>addr</em> manages.</p>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.MultiEnvManager.get_older">
<code class="descname">get_older</code><span class="sig-paren">(</span><em>addr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#MultiEnvManager.get_older"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.MultiEnvManager.get_older" title="Permalink to this definition">¶</a></dt>
<dd><p>Make agent in <em>addr</em> to get older, i.e. advance its internal clock.</p>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.MultiEnvManager.get_slave_agents">
<code class="descname">get_slave_agents</code><span class="sig-paren">(</span><em>addr</em>, <em>address=True</em>, <em>agent_cls=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#MultiEnvManager.get_slave_agents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.MultiEnvManager.get_slave_agents" title="Permalink to this definition">¶</a></dt>
<dd><p>Get agents in the specified manager&#8217;s environment.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>addr</strong> (<em>str</em>) &#8211; Address of the environment&#8217;s manager</li>
<li><strong>address</strong> (<em>bool</em>) &#8211; Return only the addresses of the agents, not proxies.</li>
<li><strong>agent_cls</strong> &#8211; If specified, return only the agents that are members of the class.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-meth docutils literal"><span class="pre">creamas.environment.Environment.get_agents()</span></code>
<a class="reference internal" href="#creamas.mp.EnvManager.get_agents" title="creamas.mp.EnvManager.get_agents"><code class="xref py py-meth docutils literal"><span class="pre">creamas.mp.EnvManager.get_agents()</span></code></a>,
<a class="reference internal" href="#creamas.mp.MultiEnvironment.get_agents" title="creamas.mp.MultiEnvironment.get_agents"><code class="xref py py-meth docutils literal"><span class="pre">creamas.mp.MultiEnvironment.get_agents()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.MultiEnvManager.handle">
<code class="descname">handle</code><span class="sig-paren">(</span><em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#MultiEnvManager.handle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.MultiEnvManager.handle" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle message. Override in subclass if needed.</p>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.MultiEnvManager.is_ready">
<code class="descname">is_ready</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#MultiEnvManager.is_ready"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.MultiEnvManager.is_ready" title="Permalink to this definition">¶</a></dt>
<dd><p>A managing function for
<a class="reference internal" href="#creamas.mp.MultiEnvironment.is_ready" title="creamas.mp.MultiEnvironment.is_ready"><code class="xref py py-meth docutils literal"><span class="pre">is_ready()</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.MultiEnvManager.kill">
<code class="descname">kill</code><span class="sig-paren">(</span><em>addr</em>, <em>folder=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#MultiEnvManager.kill"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.MultiEnvManager.kill" title="Permalink to this definition">¶</a></dt>
<dd><p>Send stop command to the manager agent in a given address. This will
shutdown the manager&#8217;s environment.</p>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.MultiEnvManager.set_host_manager">
<code class="descname">set_host_manager</code><span class="sig-paren">(</span><em>addr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#MultiEnvManager.set_host_manager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.MultiEnvManager.set_host_manager" title="Permalink to this definition">¶</a></dt>
<dd><p>Set this manager as a host manager to the manager in <em>addr</em>.</p>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.MultiEnvManager.spawn">
<code class="descname">spawn</code><span class="sig-paren">(</span><em>addr</em>, <em>agent_cls</em>, <em>*agent_args</em>, <em>**agent_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#MultiEnvManager.spawn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.MultiEnvManager.spawn" title="Permalink to this definition">¶</a></dt>
<dd><p>Spawn an agent to an environment in a manager in the given address.</p>
<p><em>agent_args</em> and <em>agent_kwargs</em> are passed to the manager doing to
spawning to be used as the agent&#8217;s initialization parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>addr</strong> (<em>str</em>) &#8211; Environment&#8217;s manager&#8217;s address</li>
<li><strong>agent_cls</strong> &#8211; Class of the agent as a string, e.g. creamas.grid:GridAgent</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">Proxy</span></code> and port of the spawned agent</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.MultiEnvManager.spawn_n">
<code class="descname">spawn_n</code><span class="sig-paren">(</span><em>addr</em>, <em>agent_cls</em>, <em>n</em>, <em>*agent_args</em>, <em>**agent_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#MultiEnvManager.spawn_n"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.MultiEnvManager.spawn_n" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as <a class="reference internal" href="#creamas.mp.MultiEnvManager.spawn" title="creamas.mp.MultiEnvManager.spawn"><code class="xref py py-meth docutils literal"><span class="pre">spawn()</span></code></a>, but spawn
multiple agents with same initialization parameters.</p>
<p>This should considerably reduce the time needed to spawn a large number
of homogeneous agents.</p>
<p><em>agent_args</em> and <em>agent_kwargs</em> are passed to the manager doing to
spawning to be used as the agent&#8217;s initialization parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>addr</strong> (<em>str</em>) &#8211; Environment&#8217;s manager&#8217;s address</li>
<li><strong>agent_cls</strong> &#8211; Class of the agent as a string, e.g. creamas.grid:GridAgent</li>
<li><strong>n</strong> (<em>int</em>) &#8211; Number of agents to spawn.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">List of (<code class="xref py py-class docutils literal"><span class="pre">Proxy</span></code>, port) tuples for the spawned agents.</p>
</td>
</tr>
</tbody>
</table>
<p>... seealso:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>:meth:`creamas.mp.EnvManager.spawn_n`
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.MultiEnvManager.trigger_all">
<code class="descname">trigger_all</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#MultiEnvManager.trigger_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.MultiEnvManager.trigger_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Trigger all agents in the managed multi-environment to act.</p>
<p>This is a managing function for
<a class="reference internal" href="#creamas.mp.MultiEnvironment.trigger_all" title="creamas.mp.MultiEnvironment.trigger_all"><code class="xref py py-meth docutils literal"><span class="pre">trigger_all()</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="creamas.mp.MultiEnvironment">
<em class="property">class </em><code class="descclassname">creamas.mp.</code><code class="descname">MultiEnvironment</code><span class="sig-paren">(</span><em>addr</em>, <em>env_cls=None</em>, <em>mgr_cls=None</em>, <em>slave_addrs=[]</em>, <em>slave_env_cls=None</em>, <em>slave_params=None</em>, <em>slave_mgr_cls=None</em>, <em>name=None</em>, <em>clock=None</em>, <em>extra_ser=None</em>, <em>log_folder=None</em>, <em>log_level=20</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#MultiEnvironment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.MultiEnvironment" title="Permalink to this definition">¶</a></dt>
<dd><p>Environment for utilizing multiple processes (and cores) on a single
machine.</p>
<p><code class="xref py py-class docutils literal"><span class="pre">MultiEnvironment</span></code> has a managing environment, typically
containing only a single manager, and a set of slave environments each
having their own manager and (once spawned) the actual agents.</p>
<p>Currently, the implementation assumes that the slave environments do not
use any time consuming internal initialization. If the slaves are not
reachable after a few seconds after the initialization, an exception is
raised. Thus, any slave environments should do their additional
preparations, e.g. agent spawning, outside their <code class="xref py py-meth docutils literal"><span class="pre">__init__()</span></code>, after
<code class="xref py py-class docutils literal"><span class="pre">MultiEnvironment</span></code> has been initialized successfully.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="xref py py-class docutils literal"><span class="pre">MultiEnvironment</span></code> and the slave environments are internally
initialized to have <code class="xref py py-class docutils literal"><span class="pre">aiomas.MsgPack</span></code> as the codec for the
message serialization. Any communication to these environments and
agents in them must use the same codec.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>addr</strong> &#8211; (HOST, PORT) address for the manager environment.</li>
<li><strong>env_cls</strong> &#8211; Class for the environment. Must be a subclass of
<a class="reference internal" href="environment.html#creamas.core.environment.Environment" title="creamas.core.environment.Environment"><code class="xref py py-class docutils literal"><span class="pre">Environment</span></code></a>.</li>
<li><strong>mgr_cls</strong> &#8211; Class for the multi-environment&#8217;s manager.</li>
<li><strong>addrs</strong> &#8211; List of (HOST, PORT) addresses for the slave-environments.</li>
<li><strong>slave_env_cls</strong> &#8211; Class for the slave environments.</li>
<li><strong>slave_params</strong> &#8211; If not None, must be a list of the same size as <em>addrs</em>. Each item
in the list containing parameter values for one slave environment.</li>
<li><strong>slave_mgr_cls</strong> &#8211; Class of the slave environment managers.</li>
<li><strong>name</strong> (<em>str</em>) &#8211; Name of the environment. Will be shown in logs.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="creamas.mp.MultiEnvironment.add_artifact">
<code class="descname">add_artifact</code><span class="sig-paren">(</span><em>artifact</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#MultiEnvironment.add_artifact"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.MultiEnvironment.add_artifact" title="Permalink to this definition">¶</a></dt>
<dd><p>Add artifact with given framing to the environment.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>artifact</strong> (<em>object</em>) &#8211; Artifact to be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.MultiEnvironment.add_artifacts">
<code class="descname">add_artifacts</code><span class="sig-paren">(</span><em>artifacts</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#MultiEnvironment.add_artifacts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.MultiEnvironment.add_artifacts" title="Permalink to this definition">¶</a></dt>
<dd><p>Add artifacts to <strong>artifacts</strong>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>artifacts</strong> &#8211; list of <a class="reference internal" href="artifact.html#creamas.core.artifact.Artifact" title="creamas.core.artifact.Artifact"><code class="xref py py-class docutils literal"><span class="pre">Artifact</span></code></a> objects</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.MultiEnvironment.add_candidate">
<code class="descname">add_candidate</code><span class="sig-paren">(</span><em>artifact</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#MultiEnvironment.add_candidate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.MultiEnvironment.add_candidate" title="Permalink to this definition">¶</a></dt>
<dd><p>Add candidate artifact to current candidates.</p>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.MultiEnvironment.check_ready">
<code class="descname">check_ready</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#MultiEnvironment.check_ready"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.MultiEnvironment.check_ready" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if this multi-environment itself is ready.</p>
<p>Override in subclass if it needs any additional (asynchronous)
initialization other than spawning its slave environments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">This basic implementation returns always True.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.MultiEnvironment.clear_candidates">
<code class="descname">clear_candidates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#MultiEnvironment.clear_candidates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.MultiEnvironment.clear_candidates" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove current candidates from the environment.</p>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.MultiEnvironment.create_connection">
<code class="descname">create_connection</code><span class="sig-paren">(</span><em>addr</em>, <em>addr2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#MultiEnvironment.create_connection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.MultiEnvironment.create_connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Create connection from agent in <em>addr</em> to agent in <em>addr2</em>.</p>
<p>This does not create a connection the other way around.</p>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.MultiEnvironment.create_initial_connections">
<code class="descname">create_initial_connections</code><span class="sig-paren">(</span><em>n=5</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#MultiEnvironment.create_initial_connections"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.MultiEnvironment.create_initial_connections" title="Permalink to this definition">¶</a></dt>
<dd><p>Create random initial connections for all agents.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>n</strong> (<em>int</em>) &#8211; the number of connections for each agent</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.MultiEnvironment.destroy">
<code class="descname">destroy</code><span class="sig-paren">(</span><em>folder=None</em>, <em>as_coro=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#MultiEnvironment.destroy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.MultiEnvironment.destroy" title="Permalink to this definition">¶</a></dt>
<dd><p>Destroy the multiprocessing environment and its slave environments.</p>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.MultiEnvironment.get_agents">
<code class="descname">get_agents</code><span class="sig-paren">(</span><em>address=True</em>, <em>agent_cls=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#MultiEnvironment.get_agents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.MultiEnvironment.get_agents" title="Permalink to this definition">¶</a></dt>
<dd><p>Get agents from the slave environments. This method excludes each
slave environment&#8217;s manager agent from the returned list.</p>
<p>Essentially calls <code class="xref py py-meth docutils literal"><span class="pre">get_agents()</span></code> for each of the slave
environment managers.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>address</strong> (<em>bool</em>) &#8211; If <em>True</em>, returns only addresses of the agents, otherwise returns
a <code class="xref py py-class docutils literal"><span class="pre">Proxy</span></code> object for each agent.</li>
<li><strong>agent_cls</strong> &#8211; If specified, returns only agents that are members of that
particular class.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">List of <code class="xref py py-class docutils literal"><span class="pre">Proxy</span></code> objects or addresses as specified by the
input parameters.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.MultiEnvironment.get_artifacts">
<code class="descname">get_artifacts</code><span class="sig-paren">(</span><em>agent</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#MultiEnvironment.get_artifacts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.MultiEnvironment.get_artifacts" title="Permalink to this definition">¶</a></dt>
<dd><p>Get artifacts published by certain agent.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">All artifacts published by the agent.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.MultiEnvironment.get_random_agent">
<code class="descname">get_random_agent</code><span class="sig-paren">(</span><em>agent</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#MultiEnvironment.get_random_agent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.MultiEnvironment.get_random_agent" title="Permalink to this definition">¶</a></dt>
<dd><p>Return random agent that is not the same as agent given as
parameter.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>agent</strong> (<a class="reference internal" href="agent.html#creamas.core.agent.CreativeAgent" title="creamas.core.agent.CreativeAgent"><code class="xref py py-class docutils literal"><span class="pre">CreativeAgent</span></code></a>) &#8211; Agent that is not wanted to return</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">random, non-connected, agent from the environment</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="agent.html#creamas.core.agent.CreativeAgent" title="creamas.core.agent.CreativeAgent"><code class="xref py py-class docutils literal"><span class="pre">CreativeAgent</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.MultiEnvironment.is_ready">
<code class="descname">is_ready</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#MultiEnvironment.is_ready"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.MultiEnvironment.is_ready" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the multi-environment has been fully initialized.</p>
<p>This calls each slave environment managers&#8217; <code class="xref py py-meth docutils literal"><span class="pre">is_ready()</span></code> and
checks if the multi-environment itself is ready by calling
<a class="reference internal" href="#creamas.mp.MultiEnvironment.check_ready" title="creamas.mp.MultiEnvironment.check_ready"><code class="xref py py-meth docutils literal"><span class="pre">check_ready()</span></code></a>.</p>
<p>... seealso:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>:py:meth:`creamas.core.environment.Environment.is_ready`
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.MultiEnvironment.perform_voting">
<code class="descname">perform_voting</code><span class="sig-paren">(</span><em>method='IRV'</em>, <em>accepted=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#MultiEnvironment.perform_voting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.MultiEnvironment.perform_voting" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform voting to decide the ordering of the current candidates.</p>
<p>Voting calls each agent&#8217;s <code class="docutils literal"><span class="pre">vote</span></code>-method, which might be costly in
larger societies.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>method</strong> (<em>str</em>) &#8211; Used voting method. One of the following:
IRV = instant run-off voting,
mean = best mean vote (requires cardinal ordering for votes),
best = best singular vote (requires cardinal ordering, returns only
one candidate),
least_worst = least worst singular vote,
random = selects random candidates</li>
<li><strong>accepted</strong> (<em>int</em>) &#8211; the number of returned candidates</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of :py:class`~creamas.core.artifact.Artifact`s, accepted
artifacts</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Rype:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.MultiEnvironment.random_addr">
<code class="descname">random_addr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#MultiEnvironment.random_addr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.MultiEnvironment.random_addr" title="Permalink to this definition">¶</a></dt>
<dd><p>Get random manager for a slave environment.</p>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.MultiEnvironment.save_info">
<code class="descname">save_info</code><span class="sig-paren">(</span><em>folder</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#MultiEnvironment.save_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.MultiEnvironment.save_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Save information accumulated during the environments lifetime.</p>
<p>Called from <a class="reference internal" href="#creamas.mp.MultiEnvironment.destroy" title="creamas.mp.MultiEnvironment.destroy"><code class="xref py py-meth docutils literal"><span class="pre">destroy()</span></code></a>. Override
in subclass.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>folder</strong> (<em>str</em>) &#8211; root folder to save information</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.MultiEnvironment.spawn">
<code class="descname">spawn</code><span class="sig-paren">(</span><em>agent_cls</em>, <em>*args</em>, <em>*</em>, <em>addr=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#MultiEnvironment.spawn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.MultiEnvironment.spawn" title="Permalink to this definition">¶</a></dt>
<dd><p>Spawn a new agent.</p>
<p>If <em>addr</em> is None, spawns the agent in the slave environment with
currently smallest number of agents.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>agent_cls</strong> &#8211; Subclass of <code class="xref py py-class docutils literal"><span class="pre">CreativeAgent</span></code></li>
<li><strong>addr</strong> &#8211; Address for the slave enviroment&#8217;s manager, if specified.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Proxy and address for the created agent.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.MultiEnvironment.trigger_act">
<code class="descname">trigger_act</code><span class="sig-paren">(</span><em>addr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#MultiEnvironment.trigger_act"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.MultiEnvironment.trigger_act" title="Permalink to this definition">¶</a></dt>
<dd><p>Trigger agent in <em>addr</em> to act.</p>
<p>This is very inefficient if used repeatedly. In case you want to
trigger all agents in the slave environments to act, you should use
<code class="xref py py-meth docutils literal"><span class="pre">trigger_all()</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.MultiEnvironment.trigger_all">
<code class="descname">trigger_all</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#MultiEnvironment.trigger_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.MultiEnvironment.trigger_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Trigger all agents in all the slave environments to act
asynchronously.</p>
</dd></dl>

<dl class="method">
<dt id="creamas.mp.MultiEnvironment.validate_candidates">
<code class="descname">validate_candidates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#MultiEnvironment.validate_candidates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.MultiEnvironment.validate_candidates" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate current candidates in the environment by pruning candidates
that are not validated at least by one agent, i.e. they are vetoed.</p>
<p>In larger societies this method might be costly, as it calls each
agents&#8217; <code class="docutils literal"><span class="pre">validate_candidates</span></code>-method.</p>
</dd></dl>

<dl class="attribute">
<dt id="creamas.mp.MultiEnvironment.addrs">
<code class="descname">addrs</code><a class="headerlink" href="#creamas.mp.MultiEnvironment.addrs" title="Permalink to this definition">¶</a></dt>
<dd><p>Addresses of the slave environment managers.</p>
</dd></dl>

<dl class="attribute">
<dt id="creamas.mp.MultiEnvironment.age">
<code class="descname">age</code><a class="headerlink" href="#creamas.mp.MultiEnvironment.age" title="Permalink to this definition">¶</a></dt>
<dd><p>Age of the environment.</p>
</dd></dl>

<dl class="attribute">
<dt id="creamas.mp.MultiEnvironment.artifacts">
<code class="descname">artifacts</code><a class="headerlink" href="#creamas.mp.MultiEnvironment.artifacts" title="Permalink to this definition">¶</a></dt>
<dd><p>Published artifacts for all get_agents.</p>
</dd></dl>

<dl class="attribute">
<dt id="creamas.mp.MultiEnvironment.candidates">
<code class="descname">candidates</code><a class="headerlink" href="#creamas.mp.MultiEnvironment.candidates" title="Permalink to this definition">¶</a></dt>
<dd><p>Current artifact candidates, subject to e.g. agents voting to
determine which candidate(s) are added to <strong>artifacts</strong>.</p>
</dd></dl>

<dl class="attribute">
<dt id="creamas.mp.MultiEnvironment.env">
<code class="descname">env</code><a class="headerlink" href="#creamas.mp.MultiEnvironment.env" title="Permalink to this definition">¶</a></dt>
<dd><p>Environment hosting the manager of this multi-environment. This
environment is also used without the manager to connect to the slave
environment managers.</p>
</dd></dl>

<dl class="attribute">
<dt id="creamas.mp.MultiEnvironment.manager">
<code class="descname">manager</code><a class="headerlink" href="#creamas.mp.MultiEnvironment.manager" title="Permalink to this definition">¶</a></dt>
<dd><p>This multi-environment&#8217;s manager.</p>
</dd></dl>

<dl class="attribute">
<dt id="creamas.mp.MultiEnvironment.name">
<code class="descname">name</code><a class="headerlink" href="#creamas.mp.MultiEnvironment.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the environment.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="creamas.mp.spawn_container">
<code class="descclassname">creamas.mp.</code><code class="descname">spawn_container</code><span class="sig-paren">(</span><em>addr=('localhost'</em>, <em>5555)</em>, <em>env_cls=&lt;class 'creamas.core.environment.Environment'&gt;</em>, <em>mgr_cls=&lt;class 'creamas.mp.EnvManager'&gt;</em>, <em>set_seed=True</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#spawn_container"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.spawn_container" title="Permalink to this definition">¶</a></dt>
<dd><p>Spawn a new environment in a given address as a coroutine.</p>
<p>Arguments and keyword arguments are passed down to the created environment
at initialization time.</p>
<p>If <a class="reference external" href="https://pypi.python.org/pypi/setproctitle">setproctitle</a> is
installed, this function renames the title of the process to start with
&#8216;creamas&#8217; so that the process is easily identifiable, e.g. with
<code class="docutils literal"><span class="pre">ps</span> <span class="pre">-x</span> <span class="pre">|</span> <span class="pre">grep</span> <span class="pre">creamas</span></code>.</p>
</dd></dl>

<dl class="function">
<dt id="creamas.mp.spawn_containers">
<code class="descclassname">creamas.mp.</code><code class="descname">spawn_containers</code><span class="sig-paren">(</span><em>addrs=[('localhost', 5555)], env_cls=&lt;class 'creamas.core.environment.Environment'&gt;, env_params=None, mgr_cls=&lt;class 'creamas.mp.EnvManager'&gt;, *args, **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#spawn_containers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.spawn_containers" title="Permalink to this definition">¶</a></dt>
<dd><p>Spawn environments in a multiprocessing <code class="xref py py-class docutils literal"><span class="pre">multiprocessing.Pool</span></code>.</p>
<p>Arguments and keyword arguments are passed down to the created environments
at initialization time if <em>env_params</em> is None. If <em>env_params</em> is not
None, then it is assumed to contain individual initialization parameters
for each environment in <em>addrs</em>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>addrs</strong> &#8211; List of (HOST, PORT) addresses for the environments.</li>
<li><strong>env_cls</strong> &#8211; Callable for the environments. Must be a subclass of
<a class="reference internal" href="environment.html#creamas.core.environment.Environment" title="creamas.core.environment.Environment"><code class="xref py py-class docutils literal"><span class="pre">Environment</span></code></a>.</li>
<li><strong>env_params</strong> (Iterable of same length as <em>addrs</em> or None.) &#8211; Initialization parameters for the environments.</li>
<li><strong>mgr_cls</strong> &#8211; Callable for the managers. Must be a subclass of
<a class="reference internal" href="#creamas.mp.EnvManager" title="creamas.mp.EnvManager"><code class="xref py py-class docutils literal"><span class="pre">EnvManager</span></code></a>.s</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The created process pool and the <em>ApplyAsync</em> results for the spawned
environments.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="creamas.mp.start">
<code class="descclassname">creamas.mp.</code><code class="descname">start</code><span class="sig-paren">(</span><em>addr</em>, <em>env_cls=&lt;class 'creamas.core.environment.Environment'&gt;</em>, <em>mgr_cls=&lt;class 'creamas.mp.EnvManager'&gt;</em>, <em>*env_args</em>, <em>**env_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/creamas/mp.html#start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#creamas.mp.start" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/asyncio-task.html#coroutine">Coroutine</a> that
starts an environment with <code class="xref py py-class docutils literal"><span class="pre">mgr_cls</span></code> manager agent.</p>
<p>The agent will connect to <em>addr</em> <code class="docutils literal"><span class="pre">('host',</span> <span class="pre">port)</span></code> and wait for commands
to spawn new agents within its environment.</p>
<p>The <em>env_args</em> and <em>env_kwargs</em> will be passed to <code class="xref py py-meth docutils literal"><span class="pre">env_cls.create()</span></code>
factory function.</p>
<p>This coroutine finishes after manager&#8217;s <code class="xref py py-meth docutils literal"><span class="pre">stop()</span></code> was called or when
a <code class="xref py py-exc docutils literal"><span class="pre">KeyboardInterrupt</span></code> is raised.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>addr</strong> &#8211; (HOST, PORT) for the new environment</li>
<li><strong>env_cls</strong> &#8211; Class of the environment, subclass of
<a class="reference internal" href="environment.html#creamas.core.environment.Environment" title="creamas.core.environment.Environment"><code class="xref py py-class docutils literal"><span class="pre">Environment</span></code></a>.</li>
<li><strong>mgr_cls</strong> &#8211; Class of the manager agent, subclass of
<a class="reference internal" href="#creamas.mp.EnvManager" title="creamas.mp.EnvManager"><code class="xref py py-class docutils literal"><span class="pre">EnvManager</span></code></a>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="ds.html" class="btn btn-neutral float-right" title="Distributed Systems" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="agents.html" class="btn btn-neutral" title="Agents" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Simo Linkola.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>